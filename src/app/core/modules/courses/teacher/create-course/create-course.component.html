<home-page-nav-bar></home-page-nav-bar>
<h1 style="margin-top: 150px;" class="text-center">Creation de cours</h1>
<div class="container py-5">
  <div class="row py-4">
    <div class="col-lg-6 mx-auto">
      <div class="mb-3">
        <label class="form-label">Titre</label>
        <input type="email" class="form-control" />
      </div>
      <div class="mb-3">
        <label class="form-label">Description</label>
        <textarea class="form-control"></textarea>
      </div>
      <div class="image-area">
        <div *ngIf="imgSelectPreview" [style]="'background-image: url('+imgSelectPreview+');'" class="image-preview">
        </div>

      </div>

      <br>
      <!-- Upload image input-->
      <div class="input-group mb-3 px-2 py-2 rounded-pill bg-white shadow-lg">
        <input id="upload" type="file" (change)="selectImageFile($event);" class="form-control border-0"
          accept=".jpg, .jpeg, .png">
        <label id="upload-label" for="upload" class="font-weight-light text-muted">Couverture du cours</label>
        <div class="input-group-append">
          <label for="upload" class="btn btn-light m-0 rounded-pill px-4"> <i
              class="fa fa-cloud-upload mr-2 text-muted"></i><small
              class="text-uppercase font-weight-bold text-muted">Choisir Image</small></label>
        </div>
      </div>
    </div>
  </div>
</div>
<div class=" d-flex justify-content-center">
  <div class="w-75">
    <editor apiKey="hkozsx0haw1awouc38v864z7sruo3ef3yidesrvuwermlx6i" [init]="{
        height: 500,
        menubar: false,
        plugins: [
          'advlist autolink lists link image charmap print preview anchor',
          'searchreplace visualblocks code fullscreen',
          'insertdatetime media table paste code help wordcount video'
        ],
        toolbar:
          'undo redo | formatselect | bold italic backcolor | \
          alignleft aligncenter alignright alignjustify | \
          bullist numlist outdent indent | removeformat | help | image  '
      }" [(ngModel)]="richTextDataModel"></editor>

  </div>



</div>
<br><br>
<div class="d-flex flex-column justify-content-center align-items-center">
  <button class="btn btn-info btn-sm" style="font-size: 20px;font-weight: 900;" (click)="addSection()">+</button>

  <div *ngFor="let section of sections; index as s"
    style="margin:5px;padding: 20px;background-color: rgb(255, 180, 180);">
    <h3>Section {{s+1}}</h3>
    <button class="btn btn-info btn-sm" style="font-size: 20px;font-weight: 900;" (click)="addChapter(s)">+</button>
    <div *ngFor="let chapter of section.chapters; index as c"
      style="margin:5px;padding: 20px;background-color: rgb(184, 255, 151);">
      <h4>Chapter {{c+1}}</h4>
      <button class="btn btn-info btn-sm" style="font-size: 20px;font-weight: 900;" (click)="addLesson(s,c)">+</button>
      <div *ngFor="let lesson of chapter.lessons; index as l"
        style="margin:5px;padding: 20px;background-color: rgb(159, 185, 255);">
        <h5>Lesson: {{l+1}}</h5>
        <button class="btn btn-info btn-sm" style="font-size: 20px;font-weight: 900;"
          (click)="addLessonElement(s,c,l)">+</button>
        <div *ngFor="let el of lesson.elements;index as e">
          <h6>Element: {{e+1}}</h6>
        </div>
      </div>
    </div>
  </div>

  <br><br>
</div>

<ng-container>
  <builder-component name="page" entry="5486e63b5ad14dd696df65977405f9e2"></builder-component>
</ng-container>
<div class="d-flex justify-content-center"><button class="btn btn-primary" (click)="create()">Create</button></div>
<br>